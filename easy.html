<!DOCTYPE html>
<html>
  <head><title>quiz</title></head>
  <body>
  <div id="loop"><ol><li id="ques"></li></ol><br><br>
  <ol><li id="q1"><button onclick="evaluate()" id="op1"></button></li><br><li id="q2"><button onclick="evaluate()" id="op2"></button></li><br><li id="q3"><button  onclick="evaluate()" id="op3"></button></li><br><li id="q4"><button  onclick="evaluate()" id="op4"></button></li></ol></div>
  <script>
   function activate1() {
  return fetch("country-list.json")
    .then(r => r.json())
    .then(data => {
      const q = data[Math.floor(Math.random() * data.length)];
      return {
        question: `What is the capital of ${q.country}?`,
        correct: q.capital,
        data: data
      };
    });
   }

    activate1().then(obj => {
   document.getElementById("ques").innerText = obj.question;

    const buttons = ["op1", "op2", "op3", "op4"];
    const correctIndex = Math.floor(Math.random() * 4);

    buttons.forEach((id, i) => {
    if (i === correctIndex) {
      document.getElementById(id).innerText = obj.correct;
     } else {
      const randomItem =
        obj.data[Math.floor(Math.random() * obj.data.length)];
      document.getElementById(id).innerText = randomItem.capital;
    }
   });
  });

    function evaluate(){
     document.getElementById("ques").innerText =question;

     const buttons = ["op1", "op2", "op3", "op4"];
     const correctIndex = Math.floor(Math.random() * 4);
     buttons.forEach((id, i) => {
     if (i==correctIndex) {
      alert("Right Answer");
     } else {
      alert("Incorrect answer");
         }
    });
   }

    
  </script>
  </body>
  
</html>
